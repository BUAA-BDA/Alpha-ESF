# henc

## Description
Henc is a homomorphic encryption library.

The algorithms included in this project are as follows:
```
Paillier Elgamal SHE RSA
```

The following algorithms will be added:
```
DGK CEK ‘Twisted Elgamal’ ...
```

## Author
Lulu Han

To build this project, the following tools must be installed:
```
1. g++
2. make
3. cmake
```

This library is built upon [NTL](https://libntl.org/) and [Boost.Program_options](https://www.boost.org/), 
so you have to install these libraries before compiling this project.
If you want to speed up this library, you can use [GMP](https://gmplib.org/) as the backend of `NTL` library.

In order to complie this library, you should perform the below commands in sequences:
```
1. mkdir build (if not exist.)
2. cd build
3. cmake ..
4. make
5. sudo make install (if want to use it in third-party applications)
```

## Tutorial

### Run the generated pragrams
The exectuables generated by this project are in the `bin` directory. 
You can run them based on their help messages. 
For example, you can use the following command to use the pragram `paillier_run`.

1) Get the help message
```
$ ../bin/paillier_run --help
All options for testing Paillier algorithm:
  --help                Produce help message
  --bitlens arg (=100)  Key length
```

2) Run Paillier algorithm with concrete parameter
```
$ ../bin/paillier_run --bitlens 60
The key length is: 120 (bits)
pt = 3882868044
ct = 457802304084058479143347451876199476846179053459710178167701493328400852
rt(m) = 3882868044

Homomorphic addition for two ciphertexts...

pt2 = 3475233066
ct = 254541878533716711290847764109775803739231434172379133316913605279571229
rt(pt + pt2) = 7358101110

Homomorphic addition for one ciphertext and one plaintext...

pt3 = 2943264554
ct = 238541941397300263465890687561023809190634519776629805314361782232283247
rt(pt2 + pt3) = 6418497620

Homomorphic multiplication for one ciphertext and one plaintext...

pt4 = 2910301628
ct = 218623517438076715947523803618780933145009541331444915161975719473037848
rt(pt2 * pt4) = 10113976449659231448
```

### Use this library in other applications 
You can use this library in some third-party applications. 
The following is an example based on Paillieralgorithm.

1) Include the required head file
```
#include <henc/paillier.h>
```

2) Define SecretKey and PublicKey objects
```
Paillier::SecretKey sk;
Paillier::PublicKey pk;
```

3) Generate a random key pair
```
Paillier::key_gen(sk, pk, bitlens);
```

4) Define Encryptor and Decryptor objects
```
Paillier::Encryptor enc(pk);
Paillier::Decryptor dec(sk);
```

5) Do encryption and decryption operators
```
HEnc::PTxt pt;
HEnc::CTxt ct;
// ...
enc.encrypt(pt, ct);
// ...
HEnc::PTxt rt;
dec.decrypt(ct, rt);
```
## E-mail
You can contact with me: locomotive_crypto@163.com
